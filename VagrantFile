# -*- mode: ruby -*-
# vi: set ft=ruby :
 
Vagrant.configure("2") do |config|
    config.vm.box = "ubuntu1310-64"
    config.vm.box_url = "http://puppet-vagrant-boxes.puppetlabs.com/ubuntu-1310-x64-virtualbox-puppet.box"
	
	config.vm.provider :virtualbox do |vb|
		vb.customize [ "modifyvm", :id, "--memory", "1024" ]
	end

    config.vm.provision :shell, :inline => "apt-get update"

    config.vm.provision "puppet" do |puppet|
        puppet.options = "--hiera_config hiera.yaml --environment=dev"
  	    puppet.manifests_path = "./manifests"	
        puppet.manifest_file = "default.pp"
        puppet.module_path = "./modules"
	    
        ## custom facts provided to Puppet
        puppet.facter = {
            ## tells default.pp that we're running in Vagrant
            "is_vagrant" => true,
        }
    end

  
end